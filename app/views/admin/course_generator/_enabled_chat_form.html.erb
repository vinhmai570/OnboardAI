<!-- Enabled Chat Form (restored after generation) -->
<div class="max-w-4xl mx-auto">
  <%= form_with url: generate_admin_course_generator_index_path, method: :post, local: false, id: "course-prompt-form", class: "flex items-start space-x-3" do |form| %>
    <div class="flex-1 relative">
      <%= form.text_area :prompt, id: "course-prompt",
          placeholder: "Describe the course you want to create... Use @filename to reference documents",
          rows: 1,
          class: "block w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm",
          style: "min-height: 44px; max-height: 200px;" %>

      <!-- Document Mention Dropdown -->
      <div id="mention-dropdown" class="hidden absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto z-50 mt-1">
        <!-- Populated by JavaScript -->
      </div>
    </div>

    <%= form.submit "Send", class: "inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2", style: "height: 44px;" do %>
      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
      </svg>
      Send
    <% end %>
  <% end %>
</div>
